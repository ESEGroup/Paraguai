
{% extends "layout.html" %}
{% block body %}
<div id="resource-info">
	<ul class="resource-info-list">
		<li><h4>{{ recurso.nome }}</h4>
		{% if admin %}
		<div style="margin-top:1em" class="btn-group push-right">
			<a type="button" class="btn btn-primary" href="{{url_for('recursos.editar', id = recurso.id)}}"><i class="fa fa-paint-brush fa-fw"></i>  Editar</a>
  			<button type="button" class="btn btn-primary"><i class="fa fa-lock"></i>  Desabilitar</button>
		</div>
		{% endif %}
		</li>
		<li><i class="fa fa-tag fa-fw" aria-hidden="true"></i>  {{ recurso.tipo.nome.capitalize() }}</li>
		<li><i class="fa fa-map-marker fa-fw" aria-hidden="true"></i>  {{ recurso.local }}</li>
	</ul>
</div>
<hr>
<div id="calendar">
</div>
<script>
 $(function(){
		$('#calendar').fullCalendar({
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,agendaWeek,agendaDay'
			},
      		defaultView: 'agendaWeek',
			navLinks: true, // can click day/week names to navigate views
			selectable: true,
			selectHelper: true,
			select: function(start, end) {
				var title = prompt('Event Title:');
				var eventData;
				if (title) {
					eventData = {
						title: title,
						start: start,
						end: end
					};
					$('#calendar').fullCalendar('renderEvent', eventData, true); // stick? = true
				}
				$('#calendar').fullCalendar('unselect');
			},
			editable: true,
			eventLimit: true, // allow 0"more" link when too many events
      		locale: "pt-br"
{% if agendamentos %}
      	,events: {{agendamentos | safe}}
{% endif %}
		});
 })
</script>
{% endblock body %}
