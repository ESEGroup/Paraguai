{% extends "layout.html" %}
{% block body %}
<form action="/admin/buscarUsuario" method="POST">
  <div class="form-group">
    <label for="categoria">Nome</label>
    <input type="text" class="form-control" id="nome" name="nome" placeholder="Nome do Usuário"/>
  </div>

  <div class="form-group">
    <label for="categoria">Departamento</label><br>
    <select class="selectpicker" data-width="100%" name="departamento">
        {% for label, valor in departamento %}
        <option value="{{valor}}">{{label}}</option>
        {% endfor %}
    </select>
  </div>

  <div class="form-group">
    <label for="qtdAgendamento">Agendamentos realizados</label>
    <div class="input-group" style="width: 100%"> <!-- Problem? ;) -->
      <select class="selectpicker" data-width="20%" name="qtdAgendamentoOperador">
          <option value="eq">Exatamente</option>
          <option value="gt">Mais que</option>
          <option value="lt">Menos que</option>
      </select>
      <input type="text" data-width="100%" class="form-control" id="qtdAgendamento" name="qtdAgendamento" placeholder="Número de Agendamentos"/>
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Buscar</button>
  {% if resultados %}
    <table class="table">
    <th>
      <tr>
        <td>Nome</td>
        <td>Departamento</td>
        <td>Número de Agendamentos</td>
      </tr>
    </th>
    <tbody>
      {% for usuario in resultados %}
        <tr>
          <td>{{ usuario.nome }}</td>
          <td>{{ usuario.departamento }}</td>
          <td>{{ usuario.qtdAgendamentos }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endif %}
</form>
{% endblock body %}
{% block notification %}
{% if noresult %}
<div class="row">
    <div class="col-sm-12 alert alert-error" align="center">
        <i class="fa fa-info-circle" aria-hidden="true"></i>Não foram encontrados usuários dentro dos critérios selecionados.</a>
    </div>
</div>
{% endif %}
{% endblock notification %}
